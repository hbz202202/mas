(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b226c7c6"],{"076b":function(e,t,n){"use strict";n("57fa")},"57fa":function(e,t,n){},fa61:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navPage iBg"},[n("navbar"),n("div",{staticClass:"row pt-5"},[n("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4 mt-3"},[n("div",{staticClass:"col-24 left py-1"},[e._v("节点列表：")]),e._l(e.nodeAddress,(function(t,r){return n("div",{key:r,staticClass:"col-24 left py-1"},[e._v(e._s(r+1)+" - "+e._s(t))])}))],2)])],1)},a=[],s=n("3835"),c=n("1da1"),i=(n("d3b7"),n("ac1f"),n("1276"),n("96cf"),n("fa7d")),o=n("c030"),u=n("780e"),d=n("d399"),f=n("403a"),l=n("9d8d"),b={components:{navbar:l["a"]},data:function(){return{myAddress:"",contractAddress:"0xabefCB5BcD2C1386efC237F6a418425689645Ebe",masTokenAddress:"0x625988B572332B73d0C08CB4CDCB74E21d64066E",uTokenAddress:"0x55d398326f99059ff775485246999027b3197955",decimals:18,config:f["a"],gasLimit:382040,nodeAddress:[],min_gasprice:1}},mixins:[i["b"],i["c"],i["d"],i["e"],i["a"]],created:function(){this.init()},methods:{init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c,i,d,f,l,b,p,m,h,g,x,v,w,O,j,C,R,k,_,A,N,B,E;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.signer){t.next=2;break}return t.abrupt("return");case 2:return e.bus.$emit("loading",!0),t.next=5,e.provider.getGasPrice();case 5:return n=t.sent,n=o["a"].utils.formatUnits(n,"gwei"),n>e.min_gasprice&&(e.min_gasprice=n),r=new o["a"].Contract(e.contractAddress,u["a"],e.signer),e.contract=r,a=0,t.next=13,e.to(e.contract.createNodesCount());case 13:return c=t.sent,i=Object(s["a"])(c,2),d=i[0],f=i[1],e.doResponse(d,f)&&(a+=f),t.next=20,e.to(e.contract.shareNodesCount());case 20:l=t.sent,b=Object(s["a"])(l,2),p=b[0],m=b[1],e.doResponse(p,m)&&(a+=m),h=0;case 26:if(!(h<a)){t.next=54;break}return t.next=29,e.to(e.contract.shareNodes(h));case 29:if(g=t.sent,x=Object(s["a"])(g,2),v=x[0],w=x[1],!e.doResponse(v,w)){t.next=51;break}return O={},t.next=37,e.to(e.contract._order1(w));case 37:return j=t.sent,C=Object(s["a"])(j,2),R=C[0],k=C[1],e.doResponse(R,k)&&(O=k),_=0,t.next=45,e.to(e.contract.level(w));case 45:A=t.sent,N=Object(s["a"])(A,2),B=N[0],E=N[1],e.doResponse(B,E)&&(_=E),e.nodeAddress.push(e.islice(w)+",LP:"+e.fixNumber(O.LP)+",类型:"+(2==_?"创世"+_:"分币式"+_));case 51:h++,t.next=26;break;case 54:e.bus.$emit("loading",!1);case 55:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}}),t)})))()},queryTransation:function(e,t,n){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.provider.waitForTransaction(e).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(d["a"])(r.$t("blockSuccess"),t),console.log(t),n&&n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},fixNumber:function(e){if(0==e)return 0;var t=o["a"].utils.hexValue(e);return this.hex2int(t)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(e){e.indexOf("0x")>=0&&(e=e.substring("2"));for(var t,n=e.length,r=new Array(n),a=0;a<n;a++)t=e.charCodeAt(a),48<=t&&t<58?t-=48:t=(223&t)-65+10,r[a]=t;return r.reduce((function(e,t){return e=16*e+t,e}),0)},doResponse:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(null==e){if(n){var a=o["a"].utils.hexValue(t),s=this.hex2int(a)/o["a"].BigNumber.from(10).pow(r);this[n]=s}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===e.code?Object(d["a"])("错误:"+e.error):"INSUFFICIENT_FUNDS"===e.code?Object(d["a"])("矿工费不足"):4001===e.code||"cancelled"===e?Object(d["a"])("交易取消"):e.data.message.indexOf("gas")>0?Object(d["a"])("矿工费不足"):e.data.message.indexOf("RPC")>0?Object(d["a"])("节点异常，请切换节点"):e.data.message.indexOf("reverted")>0&&Object(d["a"])("错误:"+e.data.message)}catch(c){}return!1},getEstimateGas:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a,c,u,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.to(e());case 2:if(r=n.sent,a=Object(s["a"])(r,2),c=a[0],u=a[1],!t.doResponse(c,u)){n.next=13;break}return d=o["a"].utils.hexValue(u),f=t.hex2int(d),console.log("getEstimateGas========",f),n.abrupt("return",String(i["a"].mul(f,1.5)).split(".")[0]);case 13:return n.abrupt("return",0);case 14:case"end":return n.stop()}}),n)})))()}}},p=b,m=(n("076b"),n("2877")),h=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=h.exports}}]);