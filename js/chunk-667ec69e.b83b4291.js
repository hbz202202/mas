(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-667ec69e"],{"1a7b":function(t,e,s){t.exports=s.p+"img/copys.5d6637db.svg"},"2b49":function(t,e,s){},"38db":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navPage iBg"},[i("navbar"),i("div",{staticClass:"row pt-5"},[i("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4"},[i("div",{staticClass:"col-24 pb-3 bb-solid"},[t._v(t._s(t.$t("Consensus")))]),i("div",{staticClass:"col-24 left pb-1 pt-3 row align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("MyAddress"))+"：")]),i("div",{staticClass:"flex-1 right-con",staticStyle:{overflow:"hidden"}},[t._v(" "+t._s(t.islice(t.myAddress))+" ")]),i("div",{staticClass:"center ml-2"},[i("img",{attrs:{src:s("1a7b")},on:{click:function(e){return t.copyShareLink(t.myAddress)}}})])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("PromoteAddress"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.inviteCount)+" ")])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("ValidPromotion"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.effectiveInviteCount)+" ")])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("teamlp"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.tdLP.toFixed(3))+" LP ")])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("Zone"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.bigLP.toFixed(3))+" LP ")])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("ZoneAddress"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.islice(t.bigLPAddress))+" ")])]),i("div",{staticClass:"col-24 left row py-2 align-center"},[i("div",{staticClass:"right left-tit"},[t._v(t._s(t.$t("Community"))+"：")]),i("div",{staticClass:"flex-1 right-con"},[t._v(" "+t._s(t.smallLP.toFixed(3))+" LP ")])])]),i("div",{staticClass:"col-22 offset-1 radius bg-white shadow row p-4 mt-3"},[i("div",{staticClass:"col-24 left py-1"},[t._v(t._s(t.$t("MyPromotion"))+"：")]),t._l(t.ztAddress,(function(e,s){return i("div",{key:s,staticClass:"col-24 left py-2"},[t._v(t._s(s+1)+" - "+t._s(e))])}))],2)])],1)},n=[],r=s("3835"),a=s("1da1"),c=(s("d3b7"),s("ac1f"),s("1276"),s("5319"),s("96cf"),s("fa7d")),o=s("c030"),d=s("780e"),l=s("d399"),u=s("403a"),f=s("9d8d"),v={components:{navbar:f["a"]},data:function(){return{myAddress:"",contractAddress:"0xabefCB5BcD2C1386efC237F6a418425689645Ebe",masTokenAddress:"0x625988B572332B73d0C08CB4CDCB74E21d64066E",uTokenAddress:"0x55d398326f99059ff775485246999027b3197955",decimals:18,config:u["a"],tdLP:0,teamLP:0,bigLP:0,bigLPAddress:"",smallLP:0,level:0,gasLimit:382040,inviteCount:0,effectiveInviteCount:0,inviteAddress:[],stakeRewards:[],ztAddress:[],min_gasprice:1}},mixins:[c["b"],c["c"],c["d"],c["e"],c["a"]],created:function(){this.init()},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,i,n,a,c,l,u,f,v,h,g,p,m,b,C,x,_,w,y,A,P,L,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.signer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.provider.getGasPrice();case 4:return s=e.sent,s=o["a"].utils.formatUnits(s,"gwei"),s>t.min_gasprice&&(t.min_gasprice=s),i=new o["a"].Contract(t.contractAddress,d["a"],t.signer),t.contract=i,e.next=11,t.to(t.contract.inviteCount(t.myAddress));case 11:if(n=e.sent,a=Object(r["a"])(n,2),c=a[0],l=a[1],!t.doResponse(c,l)){e.next=29;break}t.inviteCount=l,u=0;case 18:if(!(u<l)){e.next=29;break}return e.next=21,t.to(t.contract.myInvite(t.myAddress,u));case 21:f=e.sent,v=Object(r["a"])(f,2),h=v[0],g=v[1],t.doResponse(h,g)&&t.ztAddress.push(t.islice(g));case 26:u++,e.next=18;break;case 29:return e.next=31,t.to(t.contract._teamLP(t.myAddress));case 31:return p=e.sent,m=Object(r["a"])(p,2),b=m[0],C=m[1],t.doResponse(b,C,"tdLP"),e.next=38,t.to(t.contract.getEffectiveInviteCount(t.myAddress));case 38:return x=e.sent,_=Object(r["a"])(x,2),w=_[0],y=_[1],t.doResponse(w,y)&&(t.effectiveInviteCount=y),e.next=45,t.to(t.contract.getBig(t.myAddress));case 45:A=e.sent,P=Object(r["a"])(A,2),L=P[0],k=P[1],t.doResponse(L,k)&&(L||(t.teamLP=t.fixNumber(k[0]),t.bigLP=t.fixNumber(k[1]),t.smallLP=t.teamLP-t.bigLP,t.bigLPAddress=k[2]));case 50:case"end":return e.stop()}}),e)})))()},queryTransation:function(t,e,s){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.provider.waitForTransaction(t).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])(i.$t("blockSuccess"),e),console.log(e),s&&s();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},fixNumber:function(t){if(0==t)return 0;var e=o["a"].utils.hexValue(t);return this.hex2int(e)/o["a"].BigNumber.from(10).pow(this.decimals)},hex2int:function(t){t.indexOf("0x")>=0&&(t=t.substring("2"));for(var e,s=t.length,i=new Array(s),n=0;n<s;n++)e=t.charCodeAt(n),48<=e&&e<58?e-=48:e=(223&e)-65+10,i[n]=e;return i.reduce((function(t,e){return t=16*t+e,t}),0)},doResponse:function(t,e,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(null==t){if(s){var n=o["a"].utils.hexValue(e),r=this.hex2int(n)/o["a"].BigNumber.from(10).pow(i);this[s]=r}return!0}try{"UNPREDICTABLE_GAS_LIMIT"===t.code?Object(l["a"])(this.$t("Error")+t.error):"INSUFFICIENT_FUNDS"===t.code?Object(l["a"])(this.$t("InsufficientMinerFee")):4001===t.code||"cancelled"===t?Object(l["a"])(this.$t("Transactioncancelled")):t.data.message.indexOf("gas")>0?Object(l["a"])(this.$t("InsufficientMinerFee")):t.data.message.indexOf("RPC")>0?Object(l["a"])(this.$t("Anerroroccurredonthisnodepleaseswitchtoanothernode")):t.data.message.indexOf("reverted")>0&&Object(l["a"])(this.$t("Error")+t.data.message)}catch(a){}return!1},getEstimateGas:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,n,a,d,l,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.to(t());case 2:if(i=s.sent,n=Object(r["a"])(i,2),a=n[0],d=n[1],!e.doResponse(a,d)){s.next=13;break}return l=o["a"].utils.hexValue(d),u=e.hex2int(l),console.log("getEstimateGas========",u),s.abrupt("return",String(c["a"].mul(u,1.5)).split(".")[0]);case 13:return s.abrupt("return",0);case 14:case"end":return s.stop()}}),s)})))()},copyShareLink:function(t){var e=(window.location.href||"").split("#")[0],s=e.replace("?utm_source=tokenpocket","")+"#/home?address="+t;this.h5Copy(s)},changeEx:function(t){this.Expand=t},tabSelect:function(t){this.tabCur=t},modal:function(t){this.page1=t},hide:function(){this.page1="NaN"},lock:function(t){this.sel=t}}},h=v,g=(s("3e4f"),s("2877")),p=Object(g["a"])(h,i,n,!1,null,null,null);e["default"]=p.exports},"3e4f":function(t,e,s){"use strict";s("2b49")}}]);